<!-- 文件树组件模板 -->
<aside class="file-tree-container" role="navigation" aria-label="文件目录树">
    <!-- 加载状态 -->
    <div v-if="loading" class="loading-container" role="status" aria-live="polite">
        <div class="loading-spinner" aria-hidden="true"></div>
        <div class="loading-text">正在加载文件树...</div>
    </div>

    <!-- 错误状态 -->
    <div v-else-if="error" class="error-container" role="alert">
        <div class="error-icon" aria-hidden="true">
            <i class="fas fa-exclamation-triangle"></i>
        </div>
        <div class="error-message">{{ error }}</div>
        <button @click="$emit('reload')" class="retry-button">
            <i class="fas fa-redo"></i>
            重新加载
        </button>
    </div>

    <!-- 文件树内容 -->
    <div v-else-if="tree.length > 0" class="file-tree-content">
        <ul class="file-tree" role="tree">
            <template v-for="item in tree" :key="item.id">
                <!-- 递归组件：文件树节点 -->
                <file-tree-node 
                    :item="item" 
                    :selected-file-id="selectedFileId"
                    :expanded-folders="expandedFolders"
                    :comments="comments"
                    @file-select="$emit('file-select', $event)"
                    @folder-toggle="$emit('folder-toggle', $event)"
                ></file-tree-node>
            </template>
        </ul>
    </div>

    <!-- 空状态 -->
    <div v-else class="empty-state" role="status">
        <div class="empty-icon" aria-hidden="true">
            <i class="fas fa-folder-open"></i>
        </div>
        <div class="empty-title">暂无文件</div>
        <div class="empty-subtitle">请检查文件目录或联系管理员</div>
    </div>
</aside>




